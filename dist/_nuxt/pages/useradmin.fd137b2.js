(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{281:function(e,t,r){"use strict";r.r(t);r(5),r(2),r(3),r(1),r(4),r(54);var n=r(17),o=r(0);r(111);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var c={data:function(){return{users:null,error:null,fields:[{key:"username",label:"Username"},{key:"email",label:"Email"},{key:"actions",label:"Actions"}],newUser:{username:null,email:null,password:null}}},methods:{showModal:function(){this.$refs.modal.show()},hideModal:function(){this.$refs.modal.hide()},getUsers:function(){var e=this;this.$axios.get("/useradmin/users").then((function(t){console.log(t),e.users=t.data.users})).catch((function(t){e.error=t.message}))},deleteUser:function(e){var t=this;console.log("row",e.item),this.$axios.delete("/useradmin/".concat(e.item.email)).then((function(e){console.log("res",e)})).catch((function(e){t.error=e.message}))},createUser:function(){var e=this;this.$axios.post("/useradmin/users",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.newUser)).then((function(t){e.hideModal(),console.log(t)})).catch((function(t){e.error=t.message}))}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUsers();case 2:case"end":return t.stop()}}),t)})))()}},d=r(33),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("h4",[e._v("User Administration")]),e._v(" "),r("b-button",{on:{click:e.showModal}},[e._v("New User")]),e._v(" "),r("b-modal",{ref:"modal",attrs:{"hide-footer":"",title:"Add a new user"}},[r("div",{staticClass:"d-block text-center"},[r("b-form",[r("b-form-group",{attrs:{id:"input-group-1",label:"Email address:","label-for":"input-email"}},[r("b-form-input",{attrs:{id:"input-email",type:"email",required:"",placeholder:"Enter email"},model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-2",label:"Username:","label-for":"input-username"}},[r("b-form-input",{attrs:{id:"input-username",type:"text",required:"",placeholder:"Enter username:"},model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-2",label:"Password:","label-for":"input-password"}},[r("b-form-input",{attrs:{id:"input-password",type:"password",required:"",placeholder:"Enter password"},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}})],1)],1)],1),e._v(" "),r("b-button",{staticClass:"mt-2",attrs:{size:"sm",variant:"danger"},on:{click:e.hideModal}},[e._v("Cancel")]),e._v(" "),r("b-button",{staticClass:"mt-2",attrs:{size:"sm",variant:"primary"},on:{click:e.createUser}},[e._v("Save")])],1),e._v(" "),r("b-table",{attrs:{items:e.users,fields:e.fields},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[r("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(r){return e.deleteUser(t)}}},[e._v("\n        Delete User\n      ")])]}}])})],1)}),[],!1,null,null,null);t.default=component.exports}}]);